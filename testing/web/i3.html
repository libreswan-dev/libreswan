<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}
#dataTable.classy {
	color: red;
}

    </style>

    <script src="js/jquery-3.1.0.min.js"> </script>
    <script src="js/Tidy-Table-3.0.1/tidy-table.min.js"></script>
    <link rel="stylesheet" type="text/css" href="js/Tidy-Table-3.0.1/tidy-table.min.css">
    <script>

      window.addEventListener('load', function() {
          $.ajaxSetup({ cache: false });

          // this gets a not well-formed warning
          $.getJSON("table.json", function(data) {

              // Init Tidy-Table
              document.getElementById('container')
                  .TidyTable({
                      enableCheckbox : false,
                      enableMenu     : false,
                  }, {
                      columnTitles : data.columns,
                      columnValues : data.rows,
		      postProcess: {
		          column: postProcessColumn,
		      },
                  });
	 });

      });

      function postProcessColumn(col) {
          if (col.cellIndex == 0) { // Test Name
	      var child = col.childNodes[0]
	      var text = child.data
              var a = document.createElement("a")
	      a.setAttribute("href", text + "/OUTPUT")
	      a.appendChild(document.createTextNode(text))
	      col.replaceChild(a, child)
	  } else if (col.cellIndex >= 4) { // east ...
	      var child = col.childNodes[0]
	      var results = child.data.split(" ")
              if (results.length > 1) {
                  col.removeChild(child)
	          for (var i = 0; i < results.length; i++) {
	              result = results[i]
		      if (i > 0) {
		          col.appendChild(document.createElement('br'))
		      }
	              col.appendChild(document.createTextNode(result))
                  }
              }
	  }
      }

    </script>

    <script type="text/javascript" src="js/d3.v4.min.js"></script>
    <script type="text/javascript" src="js/graph.js"></script>
    <script>
      graph("../../graph.json")
    </script>

  </head>
  <body>
    <center>
      <div id="graph"></div>
      <br/>
      <div id="container"></div>
    </center>
  </body>
</html>
